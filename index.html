<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dynamic Weekend Rotation (Dec 2025 ‚Äì Feb 2026)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f4f5f7;
      --card: #ffffff;
      --border: #d9dee5;
      --text: #101828;
      --warn: #b91c1c;
    }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      margin: 0;
      color: var(--text);
    }
    header {
      background: white;
      border-bottom: 1px solid var(--border);
      padding: 1rem 1.5rem 0.5rem;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    h1 {
      font-size: 1.1rem;
      margin: 0 0 .5rem 0;
    }
    .controls-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: .7rem;
    }
    .control-block {
      background: #f8fafc;
      border: 1px solid #edf0f4;
      border-radius: .5rem;
      padding: .4rem .6rem .3rem;
      display: flex;
      flex-direction: column;
      gap: .3rem;
    }
    .control-block label {
      font-size: .7rem;
      color: #475569;
    }
    .control-block input {
      max-width: 5rem;
      padding: .2rem .4rem;
    }
    #printBtn {
      padding: 0.5rem 0.8rem;
      border-radius: .5rem;
      border: 1px solid var(--border);
      background: #0369a1;
      color: white;
      font-size: .8rem;
      cursor: pointer;
    }
    #printBtn:hover {
      background: #075985;
    }
    main {
      padding: 1.5rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .week-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
    .week-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 0.75rem 0.9rem 0.6rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      box-shadow: 0 6px 20px rgba(15, 23, 42, 0.03);
    }
    .week-title {
      font-weight: 600;
      font-size: 0.9rem;
    }
    .day-block {
      background: #f8fafc;
      border: 1px solid #edf0f4;
      border-radius: 0.5rem;
      padding: 0.5rem 0.6rem;
    }
    .day-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }
    .day-name {
      font-weight: 600;
      font-size: 0.78rem;
    }
    .day-date {
      font-size: 0.7rem;
      color: #475569;
    }
    .names {
      margin-top: 0.45rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
    }
    .name-pill {
      background: #fff;
      border: 1px solid rgba(15,23,42,0.05);
      border-radius: 9999px;
      padding: 0.15rem 0.45rem;
      font-size: 0.68rem;
      line-height: 1.2;
      white-space: nowrap;
    }
    .legend {
      font-size: .7rem;
      color: #475569;
      margin-bottom: 1rem;
    }
    .warn {
      color: var(--warn);
      font-size: .65rem;
      margin-top: .35rem;
    }

    @media print {
      header, .legend {
        display: none !important;
      }
      body {
        background: white;
      }
      @page {
        size: landscape;
        margin: 0.5in;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Dynamic Weekend Rotation (Dec 6, 2025 ‚Äì Feb 22, 2026)</h1>
    <div class="controls-row">
      <div class="control-block">
        <label for="satCount">Saturday headcount</label>
        <input type="number" id="satCount" min="4" max="10" value="7" />
        <small style="font-size:.6rem;"></small>
      </div>
      <div class="control-block">
        <label for="sunCount">Sunday headcount</label>
        <input type="number" id="sunCount" min="3" max="10" value="6" />
        <small style="font-size:.6rem;"></small>
      </div>
      <div class="control-block">
        <label for="employeeFilter">Filter by employee</label>
        <select id="employeeFilter">
          <option value="__all">Show everyone</option>
        </select>
      </div>
      <button id="printBtn">üñ®Ô∏è Print / Export PDF</button>
    </div>
  </header>

  <main>
    <p class="legend">
    </p>
    <div id="weekContainer" class="week-grid"></div>
  </main>

  <script>
    const weekends = [
      {
        label: "Week 1",
        saturday: { date: "Sat, Dec 6, 2025", names: ["Bridgette","Stefanie","Missie","Dana","Nate","Kelsey","Becca"] },
        sunday:   { date: "Sun, Dec 7, 2025", names: ["Bridgette","Stefanie","Mahala","Holli","Abby","John"] }
      },
      {
        label: "Week 2",
        saturday: { date: "Sat, Dec 13, 2025", names: ["Bridgette","Stefanie","Missie","Dana","Becca","Holli","John"] },
        sunday:   { date: "Sun, Dec 14, 2025", names: ["Bridgette","Stefanie","Mahala","Missie","Paige","Julia"] }
      },
      {
        label: "Week 3",
        saturday: { date: "Sat, Dec 20, 2025", names: ["Bridgette","Stefanie","Missie","Dana","Paige","Kathy","John"] },
        sunday:   { date: "Sun, Dec 21, 2025", names: ["Bridgette","Stefanie","Mahala","Kathy","Hannah","Holli"] }
      },
      {
        label: "Week 4",
        saturday: { date: "Sat, Dec 27, 2025", names: ["Bridgette","Stefanie","Missie","Dana","Kathy","Hannah","Maddie"] },
        sunday:   { date: "Sun, Dec 28, 2025", names: ["Bridgette","Stefanie","Mahala","Julia","Rebakah","Holli"] }
      },
      {
        label: "Week 5",
        saturday: { date: "Sat, Jan 3, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Maddie","Kay","Holli"] },
        sunday:   { date: "Sun, Jan 4, 2026", names: ["Bridgette","Stefanie","Mahala","Missie","Nate","Kelsey"] }
      },
      {
        label: "Week 6",
        saturday: { date: "Sat, Jan 10, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Julia","Rebakah","John"] },
        sunday:   { date: "Sun, Jan 11, 2026", names: ["Bridgette","Stefanie","Mahala","Kay","Becca","Holli"] }
      },
      {
        label: "Week 7",
        saturday: { date: "Sat, Jan 17, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Nate","Kelsey","Holli"] },
        sunday:   { date: "Sun, Jan 18, 2026", names: ["Bridgette","Stefanie","Mahala","John","Kathy","Hannah"] }
      },
      {
        label: "Week 8",
        saturday: { date: "Sat, Jan 24, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Becca","Abby","Holli"] },
        sunday:   { date: "Sun, Jan 25, 2026", names: ["Bridgette","Stefanie","Mahala","Missie","Julia","Rebakah"] }
      },
      {
        label: "Week 9",
        saturday: { date: "Sat, Jan 31, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Paige","Kay","John"] },
        sunday:   { date: "Sun, Feb 1, 2026", names: ["Bridgette","Stefanie","Mahala","Maddie","Kay","Holli"] }
      },
      {
        label: "Week 10",
        saturday: { date: "Sat, Feb 7, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Kathy","Hannah","Holli"] },
        sunday:   { date: "Sun, Feb 8, 2026", names: ["Bridgette","Stefanie","Mahala","Nate","Kelsey","Becca"] }
      },
      {
        label: "Week 11",
        saturday: { date: "Sat, Feb 14, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Maddie","Kay","Rebakah"] },
        sunday:   { date: "Sun, Feb 15, 2026", names: ["Bridgette","Stefanie","Mahala","Missie","John","Holli"] }
      },
      {
        label: "Week 12",
        saturday: { date: "Sat, Feb 21, 2026", names: ["Bridgette","Stefanie","Missie","Dana","Julia","Rebakah","Abby"] },
        sunday:   { date: "Sun, Feb 22, 2026", names: ["Bridgette","Stefanie","Mahala","Paige","Maddie","Kay"] }
      }
    ];

    const colorMap = {
      "Bridgette": "black","Stefanie": "dimgray","Missie": "purple","Dana": "brown","Mahala": "teal",
      "Nate": "darkorange","Kelsey": "darkorange","Becca": "darkgreen","Abby": "forestgreen","Holli": "royalblue",
      "Paige": "slateblue","Kathy": "darkred","Hannah": "olive","Maddie": "darkcyan","Kay": "chocolate",
      "Julia": "mediumvioletred","Rebakah": "red","John": "navy"
    };

    const fairnessPriority = [
      "John","Holli","Becca","Abby","Hannah","Paige","Kathy","Maddie","Kay","Julia","Rebakah"
    ];

    const weekContainer = document.getElementById("weekContainer");
    const satCountInput = document.getElementById("satCount");
    const sunCountInput = document.getElementById("sunCount");
    const employeeFilter = document.getElementById("employeeFilter");
    const printBtn = document.getElementById("printBtn");

    const allNames = new Set();
    weekends.forEach(w => {
      w.saturday.names.forEach(n => allNames.add(n));
      w.sunday.names.forEach(n => allNames.add(n));
    });
    Array.from(allNames).sort().forEach(n => {
      const opt = document.createElement("option");
      opt.value = n;
      opt.textContent = n;
      employeeFilter.appendChild(opt);
    });

    function isMissieSunday(names){return names.includes("Missie");}

    function getDisplayNames(dayNames,isSunday,requestedCount){
      let core=[];
      if(!isSunday){core=["Bridgette","Stefanie","Missie","Dana"];}
      else{core=["Bridgette","Stefanie","Mahala"];if(dayNames.includes("Missie"))core.push("Missie");}
      const output=[];
      dayNames.forEach(n=>{if(core.includes(n)&&!output.includes(n))output.push(n);});
      const remaining=dayNames.filter(n=>!core.includes(n));
      remaining.sort((a,b)=>{
        const ia=fairnessPriority.indexOf(a),ib=fairnessPriority.indexOf(b);
        return (ia===-1?999:ia)-(ib===-1?999:ib);
      });
      for(const n of remaining){if(output.length>=requestedCount)break;output.push(n);}
      return output;
    }

    function render(){
      const satCount=parseInt(satCountInput.value,10),sunCount=parseInt(sunCountInput.value,10);
      const filter=employeeFilter.value;
      weekContainer.innerHTML="";
      weekends.forEach(w=>{
        const card=document.createElement("div");
        card.className="week-card";
        card.innerHTML=`<div class="week-title">${w.label}</div>`;
        const satDisplay=getDisplayNames(w.saturday.names,false,satCount);
        const sat=document.createElement("div");
        sat.className="day-block";
        sat.innerHTML=`<div class="day-head"><span class="day-name">Saturday</span><span class="day-date">${w.saturday.date}</span></div>`;
        const sn=document.createElement("div");sn.className="names";
        satDisplay.forEach(n=>{
          if(filter==="__all"||n===filter){
            const p=document.createElement("span");
            p.className="name-pill";p.textContent=n;p.style.color=colorMap[n]||"black";
            sn.appendChild(p);
          }
        });
        sat.appendChild(sn);
        if(satCount<4){const wDiv=document.createElement("div");wDiv.className="warn";wDiv.textContent="Cannot go below Saturday core (4).";sat.appendChild(wDiv);}
        if(filter==="__all"||satDisplay.includes(filter))card.appendChild(sat);

        const sunDisplay=getDisplayNames(w.sunday.names,true,sunCount);
        const sun=document.createElement("div");
        sun.className="day-block";
        sun.innerHTML=`<div class="day-head"><span class="day-name">Sunday</span><span class="day-date">${w.sunday.date}</span></div>`;
        const su=document.createElement("div");su.className="names";
        sunDisplay.forEach(n=>{
          if(filter==="__all"||n===filter){
            const p=document.createElement("span");
            p.className="name-pill";p.textContent=n;p.style.color=colorMap[n]||"black";
            su.appendChild(p);
          }
        });
        sun.appendChild(su);
        const coreMin=isMissieSunday(w.sunday.names)?4:3;
        if(sunCount<coreMin){const wDiv=document.createElement("div");wDiv.className="warn";wDiv.textContent=`Cannot go below Sunday core (${coreMin}).`;sun.appendChild(wDiv);}
        if(filter==="__all"||sunDisplay.includes(filter))card.appendChild(sun);

        if(card.querySelectorAll(".day-block").length>0)weekContainer.appendChild(card);
      });
    }

    satCountInput.addEventListener("input",render);
    sunCountInput.addEventListener("input",render);
    employeeFilter.addEventListener("change",render);
    printBtn.addEventListener("click",()=>window.print());
    render();
  </script>
</body>
</html>
